<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>json-database-st ‚Äî Secure, Indexed JSON DB for Node.js</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0a0a0b;
      --surface:#111113;
      --surface-2:#0f1013;
      --surface-hover:#161619;
      --muted:#1e1e22;
      --text:#ffffff;
      --sub:#94a3b8;
      --primary:#00ff88;
      --primary-10:rgba(0,255,136,.10);
      --outline:#26262b;
      --radius:20px;
      --radius-sm:12px;
      --shadow:0 20px 40px rgba(0,0,0,.4);
      --shadow-sm:0 6px 18px rgba(0,0,0,.25);
      --glow:0 0 60px rgba(0,255,136,.25);
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family:'Plus Jakarta Sans', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      color:var(--text);
      background:var(--bg);
      background-image:
        radial-gradient(60rem 60rem at -10% -10%, rgba(0,255,136,.12), transparent 60%),
        radial-gradient(70rem 70rem at 120% 120%, rgba(102,126,234,.14), transparent 60%),
        linear-gradient(180deg, #0a0a0b 0%, #0b0c10 35%, #0a0a0b 100%);
      overflow-x:hidden;
    }
    .container{max-width:1200px;margin:0 auto;padding:0 24px}

    /* nav */
    nav{position:sticky;top:0;z-index:50;background:rgba(10,10,11,.75);backdrop-filter:blur(18px) saturate(140%);border-bottom:1px solid var(--outline)}
    .nav-content{display:flex;align-items:center;justify-content:space-between;padding:16px 0}
    .brand{display:flex;gap:12px;align-items:center;color:var(--text);text-decoration:none}
    .logo{width:40px;height:40px;border-radius:12px;display:grid;place-items:center;background:linear-gradient(135deg, var(--primary), #00c173);font-weight:800;color:#06120b;box-shadow:var(--glow)}
    .nav-links{display:flex;gap:8px}
    .nav-link{color:var(--sub);text-decoration:none;padding:8px 14px;border-radius:12px}
    .nav-link:hover{background:var(--surface)}
    .nav-link.active{color:var(--primary);background:var(--primary-10)}

    /* hero */
    .hero{padding:84px 0 36px}
    .eyebrow{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:14px}
    .badge{display:inline-flex;gap:8px;align-items:center;border:1px solid var(--outline);background:var(--surface);color:var(--sub);padding:6px 12px;border-radius:999px;font-size:13px;font-weight:700}
    h1{font-size:clamp(34px,6vw,64px);line-height:1.05;font-weight:800;letter-spacing:-.02em;margin-bottom:16px}
    .subtitle{color:var(--sub);font-size:18px;max-width:820px}
    .cta{display:flex;gap:12px;flex-wrap:wrap;margin-top:26px}
    .btn{border:none;border-radius:14px;padding:12px 20px;font-weight:800;cursor:pointer;transition:transform .15s ease}
    .btn:hover{transform:translateY(-2px)}
    .btn-primary{background:var(--primary);color:#04130c;box-shadow:var(--shadow-sm)}
    .btn-ghost{background:var(--surface);color:var(--text);border:1px solid var(--outline);text-decoration:none;display:inline-flex;align-items:center}

    /* sections */
    .code-wrap{display:grid;grid-template-columns:1.15fr .85fr;gap:24px;margin:48px 0}
    .card{background:linear-gradient(180deg, var(--surface-2), var(--surface));border:1px solid var(--outline);border-radius:var(--radius);padding:24px;box-shadow:var(--shadow-sm)}
    .card h3{font-size:20px;margin-bottom:10px}
    pre{background:var(--muted);border:1px solid var(--outline);padding:18px;border-radius:14px;overflow:auto;font-family:'JetBrains Mono', ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;font-size:13.5px;line-height:1.6}
    code .k{color:#8be9fd} code .s{color:#f1fa8c} code .c{color:#94a3b8}

    .features{display:grid;grid-template-columns:repeat(auto-fit, minmax(260px,1fr));gap:18px;margin-top:12px}
    .feature{background:var(--surface);border:1px solid var(--outline);border-radius:16px;padding:20px}
    .feature .icon{width:36px;height:36px;border-radius:10px;display:grid;place-items:center;background:var(--primary-10);color:var(--primary);margin-bottom:10px;font-weight:800}
    .feature h4{font-size:16.5px;margin-bottom:8px}
    .feature p{color:var(--sub);font-size:14.5px}

    .teaser{display:grid;grid-template-columns:1fr 1fr;gap:22px;margin:60px 0}

    /* footer */
    footer{border-top:1px solid var(--outline);padding:40px 0;margin-top:72px;color:var(--sub);text-align:center}

    @media (max-width:980px){
      .code-wrap{grid-template-columns:1fr}
      .teaser{grid-template-columns:1fr}
    }

    /* Mobile tweaks */
    @media (max-width:820px){
      .container{padding:0 16px}
      .nav-content{flex-wrap:wrap;gap:8px}
      .nav-links{flex-wrap:wrap;justify-content:center;width:100%;gap:6px}
      .hero{padding:56px 0 24px}
      .card{padding:18px}
      pre{font-size:12.5px}
      .cta{gap:10px}
    }
    @media (max-width:560px){
      .btn{width:100%}
      .logo{width:36px;height:36px}
      .nav-link{padding:8px 10px;font-size:14px}
      h1{font-size:26px}
      .subtitle{font-size:15px}
      .brand div:last-child{display:none}
    }
  </style>
</head>
<body>
  <nav>
    <div class="container nav-content">
      <a class="brand" href="./index.html">
        <div class="logo">DB</div>
        <div style="font-weight:800">json-database-st</div>
      </a>
      <div class="nav-links">
        <a class="nav-link active" href="./index.html">Home</a>
        <a class="nav-link" href="./docs.html">Documentation</a>
        <a class="nav-link" href="./benchmarks.html">Benchmarks</a>
        <a class="nav-link" href="https://github.com/sethunthunder111/json-database-st">GitHub</a>
      </div>
    </div>
  </nav>

  <header class="hero">
    <div class="container">
      <div class="eyebrow">
        <span class="badge">üîí AES-256-GCM at rest</span>
        <span class="badge">‚ö° Indexed O(1) reads</span>
        <span class="badge">üß™ Schema validation</span>
        <span class="badge">üß± Atomic writes</span>
      </div>
      <h1>Secure, indexed JSON database for Node.js</h1>
      <p class="subtitle">File-backed storage with encryption, indexes, transactions, and an async, DX-friendly API. Perfect for read-heavy services, CLIs, and local-first apps ‚Äî no server needed.</p>
      <div class="cta">
        <button class="btn btn-primary" id="copyInstall">üì¶ npm i json-database-st</button>
        <a class="btn btn-ghost" href="./docs.html">View docs ‚Üí</a>
        <a class="btn btn-ghost" href="./benchmarks.html">See benchmarks ‚Üí</a>
      </div>
    </div>
  </header>

  <main class="container">
    <!-- Quickstart + Features -->
    <section class="code-wrap">
      <div class="card">
        <h3>Quickstart</h3>
        <pre><code>// CommonJS
const JSONDatabase = require('json-database-st')
const path = require('path')

// Pro-tip: generate a 32-byte key once and keep it in env
// const ENCRYPTION_KEY = require('crypto').randomBytes(32).toString('hex')

const db = new JSONDatabase(path.join(__dirname, 'data.json'), {
  encryptionKey: process.env.DB_KEY,                // 64-char hex
  indices: [ { name: 'user-email', path: 'users', field: 'email', unique: true } ]
})

await db.set('users.alice', { email: 'alice@example.com', name: 'Alice' })
const alice = await db.findByIndex('user-email', 'alice@example.com')
console.log(alice)

await db.transaction(data => { data.users.alice.lastLogin = Date.now(); return data })
await db.close()</code></pre>
        <p style="margin-top:12px;color:var(--sub);font-size:14px">Works with ESM too. Ship in CLIs, Electron/Tauri apps, tiny services, or scripts.</p>
      </div>

      <div class="card">
        <h3>Why devs pick json-database-st</h3>
        <div class="features">
          <div class="feature"><div class="icon">üîê</div><h4>Encryption at rest</h4><p>AES-256-GCM on disk. Wrong key or tampered file? It fails safe.</p></div>
          <div class="feature"><div class="icon">üß≠</div><h4>Indexed lookups</h4><p>Define indexes and get O(1) <code>findByIndex()</code> lookups. No full scans.</p></div>
          <div class="feature"><div class="icon">üß±</div><h4>Atomic, durable writes</h4><p>Temp-file + rename, recovery on crash, and queued operations for safety.</p></div>
          <div class="feature"><div class="icon">üß™</div><h4>Schema validation</h4><p>Use Zod/Joi ‚Äî every persisted write can pass your <code>safeParse</code>.</p></div>
          <div class="feature"><div class="icon">üì¢</div><h4>Events & DX</h4><p>Promise API + <code>write</code>, <code>change</code>, <code>error</code> events for reactive flows.</p></div>
          <div class="feature"><div class="icon">üß∞</div><h4>Transactions & batch</h4><p>Multi-step changes with <code>transaction()</code> and efficient <code>batch()</code>.</p></div>
        </div>
      </div>
    </section>

    <!-- Value / Limits -->
    <section class="teaser">
      <div class="card">
        <h3>Built for read-heavy workloads</h3>
        <p style="color:var(--sub);margin-top:6px">
          Indexed reads are sub-millisecond at 1M+ records. Updates rewrite safely to keep ACID guarantees.
          Check the full benchmark report for numbers, methodology, and trade-offs.
        </p>
        <div style="margin-top:14px;display:flex;gap:10px;flex-wrap:wrap">
          <a class="btn btn-ghost" href="./benchmarks.html">Open benchmark report ‚Üí</a>
        </div>
      </div>
      <div class="card">
        <h3>Where it shines / where to chill</h3>
        <ul style="margin-top:6px;color:var(--sub);line-height:1.8">
          <li>Local-first apps, CLIs, config/state files, session stores</li>
          <li>Micro-services with ~95% reads and occasional updates</li>
          <li>Single-process usage ‚Äî one Node writer per DB file</li>
        </ul>
        <h3 style="margin-top:18px">Know the limits</h3>
        <ul style="margin-top:6px;color:var(--sub);line-height:1.8">
          <li>Loads the file into memory on init ‚Äî pick sizes that fit RAM</li>
          <li>Not a replacement for Postgres/Mongo/SQLite for huge or highly concurrent workloads</li>
        </ul>
      </div>
    </section>
  </main>

  <footer>
    <div class="container">
      <div>json-database-st ‚Ä¢ MIT Licensed ‚Ä¢ Node.js ‚Ä¢ <a href="https://github.com/sethunthunder111/json-database-st" style="color:var(--primary);text-decoration:none">GitHub</a></div>
    </div>
  </footer>

  <script>
    const btn = document.getElementById('copyInstall');
    btn?.addEventListener('click', () => {
      navigator.clipboard.writeText('npm install json-database-st lodash');
      const old = btn.textContent;
      btn.textContent = '‚úÖ copied to clipboard';
      setTimeout(()=>btn.textContent = old, 1600);
    });
  </script>
</body>
</html>
