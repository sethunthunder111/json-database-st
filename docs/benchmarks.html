<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Benchmarks | json-database-st</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;500;700&family=Inter:wght@300;400;600&family=Fira+Code&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #050505; color: #e5e5e5; }
        h1, h2, h3, .brand { font-family: 'Space Grotesk', sans-serif; }
        .glow-text { text-shadow: 0 0 30px rgba(250, 204, 21, 0.2); }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #050505; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #eab308; }
    </style>
</head>
<body class="antialiased selection:bg-yellow-500 selection:text-black flex flex-col min-h-screen">

    <!-- Navbar -->
    <nav class="fixed w-full z-50 bg-black/80 backdrop-blur-md border-b border-white/5">
        <div class="max-w-7xl mx-auto px-6 h-20 flex items-center justify-between">
            <a href="index.html" class="text-xl font-bold tracking-tighter brand text-white">json-database-<span class="text-yellow-500">st</span></a>
            <div class="hidden md:flex gap-8 text-sm font-medium text-gray-400">
                <a href="index.html#features" class="hover:text-white transition">Features</a>
                <a href="docs.html" class="hover:text-white transition">Documentation</a>
                <a href="#" class="text-yellow-500">Benchmarks</a>
                <a href="https://github.com/sethunthunder111/json-database-st" class="hover:text-white transition">GitHub</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="pt-40 pb-16 px-6 text-center relative overflow-hidden">
        <div class="absolute top-0 left-1/2 -translate-x-1/2 w-[500px] h-[500px] bg-yellow-500/5 rounded-full blur-[100px] -z-10"></div>

        <div class="inline-flex items-center gap-2 px-4 py-1 rounded-full border border-white/10 bg-white/5 text-gray-300 text-xs font-bold tracking-widest mb-8 uppercase">
            <span class="w-2 h-2 rounded-full bg-yellow-500 animate-pulse"></span> Performance Metrics
        </div>
        <h1 class="text-5xl md:text-6xl font-bold tracking-tighter text-white mb-6 leading-tight">
            Speed by <span class="text-yellow-500 glow-text">Design.</span>
        </h1>
        <p class="text-lg text-gray-400 max-w-2xl mx-auto mb-10 leading-relaxed">
            Transparent benchmarks for v2.0.0. <br>
            Optimized for read-heavy workloads and burst ingestion.
        </p>

        <div class="flex justify-center gap-4 flex-wrap">
            <div class="bg-[#0a0a0a] border border-white/10 px-4 py-2 rounded-lg text-sm font-mono text-gray-400">
                <span class="text-yellow-500">‚ö°</span> 0.04ms Reads
            </div>
            <div class="bg-[#0a0a0a] border border-white/10 px-4 py-2 rounded-lg text-sm font-mono text-gray-400">
                <span class="text-yellow-500">üîí</span> ACID Safe
            </div>
            <div class="bg-[#0a0a0a] border border-white/10 px-4 py-2 rounded-lg text-sm font-mono text-gray-400">
                <span class="text-yellow-500">üìà</span> O(1) Indexing
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-6 pb-24 w-full">
        
        <!-- Charts Grid -->
        <div class="grid md:grid-cols-2 gap-8 mb-16">
            <!-- Read Chart -->
            <div class="bg-[#0a0a0a] border border-white/10 rounded-xl p-6">
                <h3 class="text-lg font-bold text-white mb-4">Read Latency (Indexed)</h3>
                <div class="h-[300px] w-full">
                    <canvas id="readChart"></canvas>
                </div>
                <p class="text-xs text-gray-500 mt-4 text-center">Lower is better. O(1) lookup time.</p>
            </div>

            <!-- Write Chart -->
            <div class="bg-[#0a0a0a] border border-white/10 rounded-xl p-6">
                <h3 class="text-lg font-bold text-white mb-4">Write & Update Latency</h3>
                <div class="h-[300px] w-full">
                    <canvas id="writeChart"></canvas>
                </div>
                <p class="text-xs text-gray-500 mt-4 text-center">Updates scale with file size (Rewrite). Ingest is batched.</p>
            </div>
        </div>

        <!-- Data Table -->
        <div class="bg-[#0a0a0a] border border-white/10 rounded-xl overflow-hidden mb-16">
            <div class="px-6 py-4 border-b border-white/5 bg-white/[0.02]">
                <h3 class="text-lg font-bold text-white">Raw Benchmark Data</h3>
            </div>
            <div class="overflow-x-auto">
                <table class="w-full text-left text-sm text-gray-400">
                    <thead class="bg-white/5 text-gray-200 font-bold uppercase text-xs tracking-wider">
                        <tr>
                            <th class="px-6 py-4">Dataset</th>
                            <th class="px-6 py-4">File Size</th>
                            <th class="px-6 py-4">Ingest (Writes)</th>
                            <th class="px-6 py-4">Ops/Sec</th>
                            <th class="px-6 py-4">Indexed Read</th>
                            <th class="px-6 py-4">Single Update</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-white/5" id="benchTableBody">
                        <!-- Populated by JS -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Analysis Section -->
        <div class="grid md:grid-cols-3 gap-8">
            <div class="bg-[#0a0a0a] border border-white/10 rounded-xl p-6">
                <h3 class="text-lg font-bold text-white mb-2">üöÄ Read Performance</h3>
                <p class="text-gray-400 text-sm leading-relaxed">
                    Indexed reads are effectively instant (<strong>~0.07ms</strong>). The Hash Map implementation ensures that lookup time does not increase with dataset size. Perfect for high-traffic read operations.
                </p>
            </div>
            <div class="bg-[#0a0a0a] border border-white/10 rounded-xl p-6">
                <h3 class="text-lg font-bold text-white mb-2">‚ö†Ô∏è Update Trade-off</h3>
                <p class="text-gray-400 text-sm leading-relaxed">
                    To guarantee ACID compliance in a single file, updates require rewriting the file. This scales linearly. For 1M records, an update takes <strong>~6.3s</strong>. Use batching for heavy writes.
                </p>
            </div>
            <div class="bg-[#0a0a0a] border border-white/10 rounded-xl p-6">
                <h3 class="text-lg font-bold text-white mb-2">üíæ Ingest Speed</h3>
                <p class="text-gray-400 text-sm leading-relaxed">
                    The system handles burst writes efficiently. Ingesting 1M records individually took <strong>~17s</strong> (~58k ops/sec), demonstrating robust queue management.
                </p>
            </div>
        </div>

    </main>

    <!-- Footer -->
    <footer class="py-12 border-t border-white/5 bg-black">
        <div class="max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-6">
            <div class="text-center md:text-left">
                <p class="text-gray-500 text-sm font-semibold">json-database-st</p>
                <p class="text-gray-600 text-xs mt-1">Open Source Project (MIT)</p>
            </div>
            
            <div class="flex gap-6">
                <a href="https://youtube.com/@sethun.thunder" target="_blank" class="text-gray-500 hover:text-white transition flex items-center gap-2 text-sm">
                    YouTube
                </a>
                <a href="https://instagram.com/sethunthunder" target="_blank" class="text-gray-500 hover:text-white transition flex items-center gap-2 text-sm">
                    Instagram
                </a>
                <a href="https://github.com/sethunthunder111" target="_blank" class="text-gray-500 hover:text-white transition flex items-center gap-2 text-sm">
                    GitHub
                </a>
            </div>
        </div>
    </footer>

    <script>
        // Data
        const BENCH = {
            runs: [
                { records: 1000,    fileSizeMB: 0.16,   initialWriteMs: 78.79,    writeOpsSec: 12691, indexedReadMs: 0.4627, singleUpdateMs: 64.74 },
                { records: 10000,   fileSizeMB: 1.65,   initialWriteMs: 235.57,   writeOpsSec: 42450, indexedReadMs: 0.1457, singleUpdateMs: 99.74 },
                { records: 100000,  fileSizeMB: 16.84,  initialWriteMs: 1432.79,  writeOpsSec: 69794, indexedReadMs: 0.0425, singleUpdateMs: 282.32 },
                { records: 1000000, fileSizeMB: 172.19, initialWriteMs: 17287.45, writeOpsSec: 57845, indexedReadMs: 0.0711, singleUpdateMs: 6342.81 }
            ]
        };

        // Table
        const tbody = document.getElementById('benchTableBody');
        BENCH.runs.forEach(r => {
            const tr = document.createElement('tr');
            tr.className = 'hover:bg-white/[0.02] transition';
            tr.innerHTML = `
                <td class="px-6 py-4 font-medium text-white">${r.records.toLocaleString()}</td>
                <td class="px-6 py-4">${r.fileSizeMB} MB</td>
                <td class="px-6 py-4">${r.initialWriteMs.toLocaleString()} ms</td>
                <td class="px-6 py-4 text-blue-400 font-mono">${r.writeOpsSec.toLocaleString()}</td>
                <td class="px-6 py-4 text-yellow-500 font-bold">${r.indexedReadMs} ms</td>
                <td class="px-6 py-4">${r.singleUpdateMs.toLocaleString()} ms</td>
            `;
            tbody.appendChild(tr);
        });

        // Charts
        Chart.defaults.color = '#737373';
        Chart.defaults.font.family = "'Inter', sans-serif";
        
        const labels = ['1k', '10k', '100k', '1M'];

        // Read Chart
        new Chart(document.getElementById('readChart'), {
            type: 'line',
            data: {
                labels,
                datasets: [{
                    label: 'Indexed Read (ms)',
                    data: BENCH.runs.map(r => r.indexedReadMs),
                    borderColor: '#eab308', // Yellow-500
                    backgroundColor: 'rgba(234, 179, 8, 0.1)',
                    tension: 0.3,
                    fill: true,
                    pointBackgroundColor: '#eab308',
                    pointRadius: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { display: false } },
                scales: {
                    y: { grid: { color: '#262626' }, beginAtZero: true },
                    x: { grid: { display: false } }
                }
            }
        });

        // Write Chart
        new Chart(document.getElementById('writeChart'), {
            type: 'bar',
            data: {
                labels,
                datasets: [
                    {
                        label: 'Ingest (ms)',
                        data: BENCH.runs.map(r => r.initialWriteMs),
                        backgroundColor: '#3b82f6', // Blue-500
                        borderRadius: 4
                    },
                    {
                        label: 'Update (ms)',
                        data: BENCH.runs.map(r => r.singleUpdateMs),
                        backgroundColor: '#ef4444', // Red-500
                        borderRadius: 4
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { position: 'bottom', labels: { color: '#a3a3a3' } } },
                scales: {
                    y: { grid: { color: '#262626' }, type: 'logarithmic' }, // Log scale for writes
                    x: { grid: { display: false } }
                }
            }
        });
    </script>
</body>
</html>
